<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Owner Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!--Include the Jquery-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <h1>Owners</h1>

    <!-- Main Table for Owners -->
    <form action="/owner/info/update" method="post">
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Restaurant Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <% if (owners && owners.length > 0) { %>
                    <% owners.forEach(owner => { %>
                        <tr>
                            <!-- Editable First and Last Name -->
                            <td>
                                <input type="text" name="firstName" value="<%= owner.firstName %>" class="form-control" required>
                                <input type="text" name="lastName" value="<%= owner.lastName %>" class="form-control" required>
                            </td>
    
                            <!-- Editable Email -->
                            <td>
                                <input type="email" name="email" value="<%= owner.email %>" class="form-control" required>
                            </td>
    
                            <!-- Editable Password -->
                            <td>
                                <input type="password" name="password" value="<%= owner.password %>" class="form-control" required>
                            </td>
    
                            <!-- Editable Restaurant Name -->
                            <td>
                                <input type="text" name="restaurant_name" value="<%= owner.restaurant_name %>" class="form-control" required>
                            </td>
    
                            <!-- Hidden field to hold the owner's ID -->
                            <input type="hidden" name="ownerId" value="<%= owner._id %>">
    
                            <!-- Submit button for each row -->
                            <td>
                                <button type="submit" class="btn btn-sm btn-success">Save</button>
                            </td>
                        </tr>
                    <% }); %>
                <% } else { %>
                    <tr>
                        <td colspan="5">No Owners found</td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </form>
</body>    

</html>